<div class="container">
    <div class="profile"><img src="./profile.png" alt="default user">
        <h3>{{currentUser()?.username}}`s profile</h3>
        @if(!isEditMode){
        <div class="flex">
            <p>Username: </p>
            <p>{{currentUser()?.username || 'N/A'}}</p>
        </div>
        <div class="flex">
            <p>Email: </p>
            <p>{{currentUser()?.email}}</p>
        </div>
        <div class="flex">
            <p>Phone: </p>
        </div>
        <button class="edit-button" (click)="onEdit()">Edit</button>
        } @else {
            <form [formGroup]="profileForm" action="" (ngSubmit)="onSave()">
                <div class="flex">
                    <p>Username: </p>
                    <input [class.input-error]="isUsernameValid" type="text" formControlName="username" id="username" value="Johny">
                    @if(isUsernameValid){
                         <p class="error">
                            {{usernameErrorMessage}}
                        </p>
                    }
                </div>
                <div class="flex">
                    <p>Email: </p>
                    <input [class.input-error]="isEmailValid" type="email" formControlName="email" id="email" value="john.doe@gmail.com">
                    @if(isEmailValid){
                         <p class="error">
                            {{emailErrorMessage}}
                        </p>
                    }
                </div>
                <!-- <div class="flex">
                     Reservation Preview Section
                    <h3>Reservation Preview</h3>
                    <p><strong>Date:</strong> {{ reservationDate }}</p>
                    <p><strong>Table Type:</strong> {{ tableTypeLabel }}</p>
                    <p><strong>Hour:</strong> {{ hour }}</p>
                    <p><strong>Number of People:</strong> {{ people }}</p>
                    <button (click)="editReservation()">Edit</button>
                    <button (click)="deleteReservation()">Delete</button>
                </div> -->
                <button (click)="onCancel()" class="red-button" type="button">Cancel</button>
                <button [disabled]="profileForm.invalid" class="green-button" type="submit">Save</button>
            </form>
        }

    </div>
</div>
